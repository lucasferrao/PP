package GUI.src;/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

import Backend.*;
import Exceptions.UserDoesntExistException;
import com.github.lgooddatepicker.components.DatePicker;

import javax.swing.*;
import java.time.LocalDate;


/**
 *
 * @author joaod
 */
public class ProjectPage extends javax.swing.JFrame {
    private static User connectedUser;
    private static Project selectedProject;
    private Serialization serialization = new Serialization(String.format("%s\\HiProject.data", System.getProperty("user.dir")));
    private HiProject hiProject = serialization.load();

    /**
     * Creates new form ProjectPage
     */
    public ProjectPage() {
        initComponents();
    }

    public ProjectPage(Project selectedProject, User connectedUser) {
        try {
            ProjectPage.selectedProject = hiProject.getUsers().getUser(connectedUser.getEmail()).getProjects().getProject(selectedProject.getProjectID());
        } catch (UserDoesntExistException e) {
            e.printStackTrace();
        }
        ProjectPage.connectedUser = connectedUser;
        initComponents();
    }




    private void addUserProjectButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_addUserProjectButtonActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_addUserProjectButtonActionPerformed



    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(ProjectPage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(ProjectPage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(ProjectPage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(ProjectPage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new ProjectPage().setVisible(true);
            }
        });
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        projectTitleLabel = new javax.swing.JLabel();
        addUserProjectButton = new javax.swing.JButton();
        editTitleButton = new javax.swing.JButton();
        projectOwnerLabel = new javax.swing.JLabel();
        projectStartDateLabel = new javax.swing.JLabel();
        projectEndDateLabel = new javax.swing.JLabel();
        projectStateLabel = new javax.swing.JLabel();
        jComboBox1 = new javax.swing.JComboBox<>();
        removeUserProjectButton = new javax.swing.JButton();
        jScrollPane1 = new javax.swing.JScrollPane();
        projectDescriptionArea = new javax.swing.JTextArea();
        changeDescriptionButton = new javax.swing.JButton();
        projectStateValue = new javax.swing.JLabel();
        projectStartDateValue = new javax.swing.JLabel();
        projectEndDateValue = new javax.swing.JLabel();
        markAsCompleteButton = new javax.swing.JButton();
        editEndDateButton = new javax.swing.JButton();
        goBackButton = new javax.swing.JButton();
        jPanel2 = new javax.swing.JPanel();
        createNewTasksListsButton = new javax.swing.JButton();
        removeTaskButton = new javax.swing.JButton();
        jScrollPane3 = new javax.swing.JScrollPane();
        tasksList = new javax.swing.JList<>();
        tasksListsLabel = new javax.swing.JLabel();
        tasksLabel = new javax.swing.JLabel();
        createNewTaskButton = new javax.swing.JButton();
        removeTasksListsButton = new javax.swing.JButton();
        sortUserButton = new javax.swing.JButton();
        sortPriorityButton = new javax.swing.JButton();
        sortCreatorButton = new javax.swing.JButton();
        tasksListsComboBox = new javax.swing.JComboBox<>();
        jSeparator1 = new javax.swing.JSeparator();
        taskNameValue = new javax.swing.JLabel();
        taskDescriptiontField = new javax.swing.JTextField();
        taskPriorityLabelValue = new javax.swing.JLabel();
        taskCreaterLabelValue = new javax.swing.JLabel();
        taskStateLabelValue = new javax.swing.JLabel();
        taskCreationDateLabelValue = new javax.swing.JLabel();
        taskEndDateLabelValue = new javax.swing.JLabel();
        associatedUsersLabel = new javax.swing.JLabel();
        jScrollPane2 = new javax.swing.JScrollPane();
        associatedUsersList = new javax.swing.JList<>();
        associateNewUserTaskButton = new javax.swing.JButton();
        removeUserTaskButton = new javax.swing.JButton();
        editTaskButton = new javax.swing.JButton();
        sortStateButton = new javax.swing.JButton();
        sortTasksByLabel = new javax.swing.JLabel();
        sortEndDateButton = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        jPanel1.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));

        projectTitleLabel.setFont(new java.awt.Font("Tahoma", 1, 36)); // NOI18N
        projectTitleLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        projectTitleLabel.setText(selectedProject.getTitle());

        addUserProjectButton.setText("Add User");
        addUserProjectButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                addUserProjectButtonActionPerformed(evt);
            }
        });

        editTitleButton.setText("Edit Title");
        editTitleButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                editTitleButtonActionPerformed(evt);
            }
        });

        projectOwnerLabel.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        projectOwnerLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        projectOwnerLabel.setText("Project Owner: " + selectedProject.getOwner().getName());

        projectStartDateLabel.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        projectStartDateLabel.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        projectStartDateLabel.setText("Start Date:");

        projectEndDateLabel.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        projectEndDateLabel.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        projectEndDateLabel.setText("End Date:");

        projectStateLabel.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        projectStateLabel.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        projectStateLabel.setText("Project State:");

        jComboBox1.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));

        removeUserProjectButton.setText("Remove User");
        removeUserProjectButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                removeUserProjectButtonActionPerformed(evt);
            }
        });

        projectDescriptionArea.setBorder(null);
        projectDescriptionArea.setColumns(20);
        projectDescriptionArea.setRows(5);
        jScrollPane1.setViewportView(projectDescriptionArea);

        changeDescriptionButton.setText("Change Description");
        changeDescriptionButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                changeDescriptionButtonActionPerformed(evt);
            }
        });

        projectStateValue.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        projectStateValue.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        projectStateValue.setText(selectedProject.getProjectState().toString());

        projectStartDateValue.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        projectStartDateValue.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        projectStartDateValue.setText(selectedProject.getBeginDate().toString());

        projectEndDateValue.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        projectEndDateValue.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        projectEndDateValue.setText(selectedProject.getEndDate().toString());

        markAsCompleteButton.setText("Mark as Complete");
        markAsCompleteButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                markAsCompleteButtonActionPerformed(evt);
            }
        });

        editEndDateButton.setText("Edit End Date");
        editEndDateButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                editEndDateButtonActionPerformed(evt);
            }
        });

        goBackButton.setText("Go Back");
        goBackButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                goBackButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(projectOwnerLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(36, 36, 36)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jComboBox1, 0, 231, Short.MAX_VALUE)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addComponent(addUserProjectButton, javax.swing.GroupLayout.PREFERRED_SIZE, 89, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(removeUserProjectButton)))
                .addGap(40, 40, 40)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(projectStateLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(projectStartDateLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(projectEndDateLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 84, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(projectStateValue, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(projectStartDateValue, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(projectEndDateValue))
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(changeDescriptionButton)
                        .addGap(40, 40, 40))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addGap(27, 27, 27)
                                .addComponent(markAsCompleteButton))
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addGap(35, 35, 35)
                                .addComponent(editEndDateButton)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 25, Short.MAX_VALUE)
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 311, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(27, 27, 27))))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(goBackButton)
                .addGap(45, 45, 45)
                .addComponent(projectTitleLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 695, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(45, 45, 45)
                .addComponent(editTitleButton)
                .addGap(34, 34, 34))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(27, 27, 27)
                        .addComponent(projectTitleLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 63, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                                .addComponent(editTitleButton)
                                .addGap(20, 20, 20))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                                .addComponent(goBackButton)
                                .addGap(18, 18, 18)))))
                .addComponent(projectOwnerLabel)
                .addGap(18, 18, Short.MAX_VALUE)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                            .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGap(67, 67, 67)
                            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(removeUserProjectButton)
                                .addComponent(addUserProjectButton)))
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                                .addComponent(projectStateLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(projectStartDateLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(projectEndDateLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(projectStateValue, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(markAsCompleteButton))
                                .addGap(18, 18, 18)
                                .addComponent(projectStartDateValue, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(projectEndDateValue, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(editEndDateButton)))))
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 115, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(changeDescriptionButton)
                .addGap(500, 500, 500))
        );

        jPanel2.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));

        createNewTasksListsButton.setText("Create a new Tasks List");

        removeTaskButton.setText("Remove selected Tasks List");

        tasksList.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        tasksList.setModel(new javax.swing.AbstractListModel<String>() {
            String[] strings = { "Item 1", "Item 2", "Item 3", "Item 4", "Item 5" };
            public int getSize() { return strings.length; }
            public String getElementAt(int i) { return strings[i]; }
        });
        jScrollPane3.setViewportView(tasksList);

        tasksListsLabel.setFont(new java.awt.Font("Tahoma", 1, 16)); // NOI18N
        tasksListsLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        tasksListsLabel.setText("Tasks Lists");

        tasksLabel.setFont(new java.awt.Font("Tahoma", 1, 16)); // NOI18N
        tasksLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        tasksLabel.setText("Tasks");

        createNewTaskButton.setText("Create a new Task");
        createNewTaskButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                createNewTaskButtonActionPerformed(evt);
            }
        });

        removeTasksListsButton.setText("Remove selected Tasks List");

        sortUserButton.setText("User");
        sortUserButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sortUserButtonActionPerformed(evt);
            }
        });

        sortPriorityButton.setText("Priority");
        sortPriorityButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sortPriorityButtonActionPerformed(evt);
            }
        });

        sortCreatorButton.setText("Creator");
        sortCreatorButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sortCreatorButtonActionPerformed(evt);
            }
        });

        tasksListsComboBox.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));

        taskNameValue.setFont(new java.awt.Font("Tahoma", 1, 16)); // NOI18N
        taskNameValue.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        taskNameValue.setText("Task Name");

        taskDescriptiontField.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        taskDescriptiontField.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        taskDescriptiontField.setText("Task Description");
        taskDescriptiontField.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                taskDescriptiontFieldActionPerformed(evt);
            }
        });

        taskPriorityLabelValue.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        taskPriorityLabelValue.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        taskPriorityLabelValue.setText("Task Priority:");

        taskCreaterLabelValue.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        taskCreaterLabelValue.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        taskCreaterLabelValue.setText("Task Creator:");

        taskStateLabelValue.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        taskStateLabelValue.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        taskStateLabelValue.setText("Task State:");

        taskCreationDateLabelValue.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        taskCreationDateLabelValue.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        taskCreationDateLabelValue.setText("Task Creation Date:");

        taskEndDateLabelValue.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        taskEndDateLabelValue.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        taskEndDateLabelValue.setText("Task End Date:");

        associatedUsersLabel.setFont(new java.awt.Font("Tahoma", 1, 16)); // NOI18N
        associatedUsersLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        associatedUsersLabel.setText("Associated Users");

        associatedUsersList.setModel(new javax.swing.AbstractListModel<String>() {
            String[] strings = { "Item 1", "Item 2", "Item 3", "Item 4", "Item 5" };
            public int getSize() { return strings.length; }
            public String getElementAt(int i) { return strings[i]; }
        });
        jScrollPane2.setViewportView(associatedUsersList);

        associateNewUserTaskButton.setText("Associate New User");
        associateNewUserTaskButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                associateNewUserTaskButtonActionPerformed(evt);
            }
        });

        removeUserTaskButton.setText("Remove Selected User");
        removeUserTaskButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                removeUserTaskButtonActionPerformed(evt);
            }
        });

        editTaskButton.setText("Edit Task");
        editTaskButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                editTaskButtonActionPerformed(evt);
            }
        });

        sortStateButton.setText("State");
        sortStateButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sortStateButtonActionPerformed(evt);
            }
        });

        sortTasksByLabel.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        sortTasksByLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        sortTasksByLabel.setText("Sort Tasks by:");

        sortEndDateButton.setText("End Date");
        sortEndDateButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sortEndDateButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(30, 30, 30)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(tasksListsLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tasksListsComboBox, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jSeparator1)
                    .addComponent(removeTasksListsButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(sortUserButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(sortPriorityButton, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(sortCreatorButton, javax.swing.GroupLayout.DEFAULT_SIZE, 170, Short.MAX_VALUE)
                    .addComponent(createNewTasksListsButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(sortStateButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(sortTasksByLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(sortEndDateButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(40, 40, 40)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jScrollPane3)
                    .addComponent(tasksLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(removeTaskButton, javax.swing.GroupLayout.DEFAULT_SIZE, 200, Short.MAX_VALUE)
                    .addComponent(createNewTaskButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(30, 30, 30)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(taskNameValue, javax.swing.GroupLayout.PREFERRED_SIZE, 296, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                        .addComponent(editTaskButton, javax.swing.GroupLayout.PREFERRED_SIZE, 285, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addComponent(taskEndDateLabelValue, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(taskCreationDateLabelValue, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 285, Short.MAX_VALUE)
                            .addComponent(taskStateLabelValue, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(taskPriorityLabelValue, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(taskCreaterLabelValue, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(taskDescriptiontField, javax.swing.GroupLayout.Alignment.LEADING))))
                .addGap(30, 30, 30)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(associatedUsersLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jScrollPane2)
                    .addComponent(associateNewUserTaskButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(removeUserTaskButton, javax.swing.GroupLayout.DEFAULT_SIZE, 174, Short.MAX_VALUE))
                .addGap(20, 20, 20))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(45, 45, 45)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(associatedUsersLabel)
                    .addComponent(taskNameValue)
                    .addComponent(tasksLabel)
                    .addComponent(tasksListsLabel))
                .addGap(35, 35, 35)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 263, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 263, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(associateNewUserTaskButton))
                            .addComponent(createNewTaskButton, javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addComponent(taskDescriptiontField, javax.swing.GroupLayout.PREFERRED_SIZE, 114, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(taskCreaterLabelValue)
                                .addGap(18, 18, 18)
                                .addComponent(taskPriorityLabelValue)
                                .addGap(18, 18, 18)
                                .addComponent(taskStateLabelValue)
                                .addGap(18, 18, 18)
                                .addComponent(taskCreationDateLabelValue)
                                .addGap(18, 18, 18)
                                .addComponent(taskEndDateLabelValue))
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addComponent(tasksListsComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(createNewTasksListsButton)
                                .addGap(18, 18, 18)
                                .addComponent(removeTasksListsButton)
                                .addGap(25, 25, 25)
                                .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(sortTasksByLabel)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(sortCreatorButton)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(sortUserButton)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(sortPriorityButton)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(sortStateButton)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(removeUserTaskButton)
                            .addComponent(editTaskButton)
                            .addComponent(removeTaskButton)
                            .addComponent(sortEndDateButton))))
                .addContainerGap(36, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, 333, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        setSize(new java.awt.Dimension(1018, 849));
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void editTitleButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_editTitleButtonActionPerformed
        hiProject = serialization.load();
        String result;
        result = JOptionPane.showInputDialog("Type a new project title:");
        selectedProject.setTitle(result);
        serialization.save(hiProject);
    }//GEN-LAST:event_editTitleButtonActionPerformed

    private void removeUserProjectButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_removeUserProjectButtonActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_removeUserProjectButtonActionPerformed

    private void jLabel1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabel1MouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_jLabel1MouseClicked

    private void changeDescriptionButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_changeDescriptionButtonActionPerformed
        hiProject = serialization.load();
        JTextArea ta = new JTextArea(10, 30);
        Object[] options = {"Confirm changes", "Cancel"};
        switch (JOptionPane.showOptionDialog(null, new JScrollPane(ta), "Change your project description.", JOptionPane.YES_NO_OPTION, JOptionPane.PLAIN_MESSAGE, null, options, null)) {
            case JOptionPane.OK_OPTION:
                selectedProject.setTitle(ta.getText());
                serialization.save(hiProject);
                break;
        }
    }//GEN-LAST:event_changeDescriptionButtonActionPerformed

    private void markAsCompleteButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_markAsCompleteButtonActionPerformed
        selectedProject.setProjectState(State.Finished);
        serialization.save(hiProject);
    }//GEN-LAST:event_markAsCompleteButtonActionPerformed

    private void editEndDateButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_editEndDateButtonActionPerformed
        hiProject = serialization.load();
        DatePicker dp = new DatePicker();
        Object[] options = {"Confirm changes", "Cancel"};
        switch (JOptionPane.showOptionDialog(null, dp, "Change your project end date.", JOptionPane.YES_NO_OPTION, JOptionPane.PLAIN_MESSAGE, null, options, null)) {
            case JOptionPane.OK_OPTION:
                if (dp.getDate().isBefore(LocalDate.now().plusDays(1))) {
                    JOptionPane.showMessageDialog(null, "The new end date cannot be set for today or before!");
                    break;
                } else {
                    selectedProject.setEndDate(dp.getDate());
                    serialization.save(hiProject);
                    break;
                }
        }
    }//GEN-LAST:event_editEndDateButtonActionPerformed

    private void editTaskButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_editTaskButtonActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_editTaskButtonActionPerformed

    private void removeUserTaskButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_removeUserTaskButtonActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_removeUserTaskButtonActionPerformed

    private void associateNewUserTaskButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_associateNewUserTaskButtonActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_associateNewUserTaskButtonActionPerformed

    private void taskDescriptiontFieldActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_taskDescriptiontFieldActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_taskDescriptiontFieldActionPerformed

    private void sortCreatorButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_sortCreatorButtonActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_sortCreatorButtonActionPerformed

    private void sortPriorityButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_sortPriorityButtonActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_sortPriorityButtonActionPerformed

    private void sortUserButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_sortUserButtonActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_sortUserButtonActionPerformed

    private void createNewTaskButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_createNewTaskButtonActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_createNewTaskButtonActionPerformed

    private void sortStateButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_sortStateButtonActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_sortStateButtonActionPerformed

    private void sortEndDateButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_sortEndDateButtonActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_sortEndDateButtonActionPerformed

    private void goBackButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_goBackButtonActionPerformed
        new Homepage(connectedUser).setVisible(true);
        dispose();
    }//GEN-LAST:event_goBackButtonActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton addUserProjectButton;
    private javax.swing.JButton associateNewUserTaskButton;
    private javax.swing.JLabel associatedUsersLabel;
    private javax.swing.JList<String> associatedUsersList;
    private javax.swing.JButton changeDescriptionButton;
    private javax.swing.JButton createNewTaskButton;
    private javax.swing.JButton createNewTasksListsButton;
    private javax.swing.JButton editEndDateButton;
    private javax.swing.JButton editTaskButton;
    private javax.swing.JButton editTitleButton;
    private javax.swing.JButton goBackButton;
    private javax.swing.JComboBox<String> jComboBox1;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JButton markAsCompleteButton;
    private javax.swing.JTextArea projectDescriptionArea;
    private javax.swing.JLabel projectEndDateLabel;
    private javax.swing.JLabel projectEndDateValue;
    private javax.swing.JLabel projectOwnerLabel;
    private javax.swing.JLabel projectStartDateLabel;
    private javax.swing.JLabel projectStartDateValue;
    private javax.swing.JLabel projectStateLabel;
    private javax.swing.JLabel projectStateValue;
    private javax.swing.JLabel projectTitleLabel;
    private javax.swing.JButton removeTaskButton;
    private javax.swing.JButton removeTasksListsButton;
    private javax.swing.JButton removeUserProjectButton;
    private javax.swing.JButton removeUserTaskButton;
    private javax.swing.JButton sortCreatorButton;
    private javax.swing.JButton sortEndDateButton;
    private javax.swing.JButton sortPriorityButton;
    private javax.swing.JButton sortStateButton;
    private javax.swing.JLabel sortTasksByLabel;
    private javax.swing.JButton sortUserButton;
    private javax.swing.JLabel taskCreaterLabelValue;
    private javax.swing.JLabel taskCreationDateLabelValue;
    private javax.swing.JTextField taskDescriptiontField;
    private javax.swing.JLabel taskEndDateLabelValue;
    private javax.swing.JLabel taskNameValue;
    private javax.swing.JLabel taskPriorityLabelValue;
    private javax.swing.JLabel taskStateLabelValue;
    private javax.swing.JLabel tasksLabel;
    private javax.swing.JList<String> tasksList;
    private javax.swing.JComboBox<String> tasksListsComboBox;
    private javax.swing.JLabel tasksListsLabel;
    // End of variables declaration//GEN-END:variables
}
