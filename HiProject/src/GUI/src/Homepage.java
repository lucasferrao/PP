/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package GUI.src;

import java.awt.event.ItemEvent;
import java.awt.event.ItemListener;
import java.time.LocalDate;
import java.util.*;

import Backend.*;
import Exceptions.UserDoesntExistException;

import java.lang.reflect.Array;

import javax.swing.*;

/**
 * @author joaod
 */
public class Homepage extends javax.swing.JFrame {
    private static User connectedUser;
    private Map<Integer, Project> pl;
    private static ArrayList<String> titles = new ArrayList<>();
    private ArrayList<String> projectsmta(ArrayList<String> ptitles) {
        ptitles.clear();
        ptitles.add("< Please Select a Project >");
        for (Map.Entry<Integer, Project> e : pl.entrySet()) {
            ptitles.add(e.getValue().getTitle());
        }
        return ptitles;
    }

    /**
     * Creates new form Homepage
     */
    public Homepage(User connectedUser) {
        Homepage.connectedUser = connectedUser;
        pl = connectedUser.getProjects().getProjects();
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        dashboardPanel = new javax.swing.JPanel();
        completedProjectsLabel = new javax.swing.JLabel();
        completedProjectsValueLabel = new javax.swing.JLabel();
        ongoingProjectsLabel = new javax.swing.JLabel();
        ongoingProjectsValueLabel = new javax.swing.JLabel();
        lateProjectsLabel = new javax.swing.JLabel();
        lateProjectsValueLabel = new javax.swing.JLabel();
        inNeedOfAttentionLabel = new javax.swing.JLabel();
        inoaProject2ValueLabel = new javax.swing.JLabel();
        inoaProject3ValueLabel = new javax.swing.JLabel();
        inoaProject1ValueLabel = new javax.swing.JLabel();
        biggestProjectLabel = new javax.swing.JLabel();
        bpPeopleInvolvedLabel = new javax.swing.JLabel();
        bpPeopleInvolvedValueLabel = new javax.swing.JLabel();
        bpCompletedTasksLabel = new javax.swing.JLabel();
        bpNameValueLabel = new javax.swing.JLabel();
        bpCompletedTasksValueLabel = new javax.swing.JLabel();
        dashboardBackground = new javax.swing.JLabel();
        mainMenuPanel = new javax.swing.JPanel();
        projectListComboBox = new javax.swing.JComboBox<>();
        addProjectButton = new javax.swing.JLabel();
        removeProjectButton = new javax.swing.JLabel();
        editProfileButton = new javax.swing.JLabel();
        editProfileLabel = new javax.swing.JLabel();
        switchUserButton = new javax.swing.JLabel();
        switchUserLabel = new javax.swing.JLabel();
        exitButton = new javax.swing.JLabel();
        exitLabel = new javax.swing.JLabel();
        viewProjectButton = new javax.swing.JLabel();
        viewDashboardButton = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        selectedProjectPanel = new javax.swing.JPanel();
        sppSelectedProjectDescriptionLabel = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        sppSelectedProjectDescriptionValue = new javax.swing.JTextArea();
        sppSelectedProjectEditProjectButtonLabel = new javax.swing.JLabel();
        sppSelectedProjectEditProjectButton = new javax.swing.JLabel();
        sppSelectedProjectStateValue = new javax.swing.JLabel();
        sppSelectedProjectStartDateValue = new javax.swing.JLabel();
        sppSelectedProjectStartDateLabel = new javax.swing.JLabel();
        sppSelectedProjectEndDateValue = new javax.swing.JLabel();
        sppSelectedProjectEndDateLabel = new javax.swing.JLabel();
        sppSelectedProjectStateLabel = new javax.swing.JLabel();
        sppSelectedProjectOwner = new javax.swing.JLabel();
        sppSelectedProjectName = new javax.swing.JLabel();
        associatedUsersLabel = new javax.swing.JLabel();
        addUserToProject = new javax.swing.JLabel();
        addUserToProjectLabel = new javax.swing.JLabel();
        removeUserToProject = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jScrollPane2 = new javax.swing.JScrollPane();
        associatedUsersList = new javax.swing.JList<>();
        jSeparator1 = new javax.swing.JSeparator();
        selectedProjectBackground = new javax.swing.JLabel();
        homepageBackground = new javax.swing.JLabel();

        dashboardPanel.setBackground(new java.awt.Color(36, 80, 218));
        dashboardPanel.setOpaque(false);
        dashboardPanel.setLayout(null);

        completedProjectsLabel.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        completedProjectsLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        completedProjectsLabel.setText("Completed Projects");
        dashboardPanel.add(completedProjectsLabel);
        completedProjectsLabel.setBounds(90, 630, 326, 29);

        completedProjectsValueLabel.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        completedProjectsValueLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        completedProjectsValueLabel.setText("completedProjectsValueLabel");
        dashboardPanel.add(completedProjectsValueLabel);
        completedProjectsValueLabel.setBounds(90, 690, 326, 25);

        ongoingProjectsLabel.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        ongoingProjectsLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        ongoingProjectsLabel.setText("Ongoing Projects");
        dashboardPanel.add(ongoingProjectsLabel);
        ongoingProjectsLabel.setBounds(500, 630, 326, 29);

        ongoingProjectsValueLabel.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        ongoingProjectsValueLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        ongoingProjectsValueLabel.setText("ongoingProjectsValueLabel");
        dashboardPanel.add(ongoingProjectsValueLabel);
        ongoingProjectsValueLabel.setBounds(500, 680, 326, 25);

        lateProjectsLabel.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        lateProjectsLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lateProjectsLabel.setText("Late Projects");
        dashboardPanel.add(lateProjectsLabel);
        lateProjectsLabel.setBounds(890, 630, 326, 29);

        lateProjectsValueLabel.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        lateProjectsValueLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lateProjectsValueLabel.setText("lateProjectsValueLabel");
        dashboardPanel.add(lateProjectsValueLabel);
        lateProjectsValueLabel.setBounds(890, 680, 326, 25);

        inNeedOfAttentionLabel.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        inNeedOfAttentionLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        inNeedOfAttentionLabel.setText("In Need of Attention");
        dashboardPanel.add(inNeedOfAttentionLabel);
        inNeedOfAttentionLabel.setBounds(230, 120, 326, 29);

        inoaProject2ValueLabel.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        inoaProject2ValueLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        inoaProject2ValueLabel.setText("inoaProject2ValueLabel");
        dashboardPanel.add(inoaProject2ValueLabel);
        inoaProject2ValueLabel.setBounds(240, 330, 326, 40);

        inoaProject3ValueLabel.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        inoaProject3ValueLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        inoaProject3ValueLabel.setText("inoaProject3ValueLabel");
        dashboardPanel.add(inoaProject3ValueLabel);
        inoaProject3ValueLabel.setBounds(200, 410, 420, 40);

        inoaProject1ValueLabel.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        inoaProject1ValueLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        inoaProject1ValueLabel.setText("inoaProject1ValueLabel");
        dashboardPanel.add(inoaProject1ValueLabel);
        inoaProject1ValueLabel.setBounds(230, 250, 360, 40);

        biggestProjectLabel.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        biggestProjectLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        biggestProjectLabel.setText("Biggest Project");
        dashboardPanel.add(biggestProjectLabel);
        biggestProjectLabel.setBounds(790, 90, 326, 29);

        bpPeopleInvolvedLabel.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        bpPeopleInvolvedLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        bpPeopleInvolvedLabel.setText("People Involved in Project:");
        dashboardPanel.add(bpPeopleInvolvedLabel);
        bpPeopleInvolvedLabel.setBounds(800, 260, 326, 28);

        bpPeopleInvolvedValueLabel.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        bpPeopleInvolvedValueLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        bpPeopleInvolvedValueLabel.setText("bpPeopleInvolvedValueLabel");
        dashboardPanel.add(bpPeopleInvolvedValueLabel);
        bpPeopleInvolvedValueLabel.setBounds(800, 320, 326, 22);

        bpCompletedTasksLabel.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        bpCompletedTasksLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        bpCompletedTasksLabel.setText("Completed Tasks in Project:");
        dashboardPanel.add(bpCompletedTasksLabel);
        bpCompletedTasksLabel.setBounds(800, 390, 326, 25);

        bpNameValueLabel.setFont(new java.awt.Font("Tahoma", 2, 24)); // NOI18N
        bpNameValueLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        bpNameValueLabel.setText("bpNameValueLabel");
        dashboardPanel.add(bpNameValueLabel);
        bpNameValueLabel.setBounds(790, 170, 326, 22);

        bpCompletedTasksValueLabel.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        bpCompletedTasksValueLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        bpCompletedTasksValueLabel.setText("bpCompletedTasksValueLabel");
        dashboardPanel.add(bpCompletedTasksValueLabel);
        bpCompletedTasksValueLabel.setBounds(800, 460, 326, 22);

        dashboardBackground.setIcon(new javax.swing.ImageIcon("C:\\Users\\joaod\\Desktop\\PP\\DashboardBackground.png")); // NOI18N
        dashboardPanel.add(dashboardBackground);
        dashboardBackground.setBounds(0, 0, 1320, 800);

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Homepage");
        getContentPane().setLayout(null);

        mainMenuPanel.setBorder(javax.swing.BorderFactory.createTitledBorder("Welcome to HiProject, " + connectedUser.getName() + "."));
        mainMenuPanel.setOpaque(false);
        mainMenuPanel.setLayout(null);

        projectListComboBox.setModel(new javax.swing.DefaultComboBoxModel(projectsmta(titles).toArray()));
        projectListComboBox.addItemListener (new ItemListener() {
            @Override
            public void itemStateChanged(ItemEvent e) {
                String ptitle = projectListComboBox.getItemAt(projectListComboBox.getSelectedIndex());
                if (e.getStateChange() == ItemEvent.SELECTED) {
                    for (Map.Entry<Integer, Project> ee : pl.entrySet()) {
                        if (ptitle.equals(ee.getValue().getTitle())) {
                            sppSelectedProjectName.setText(ee.getValue().getTitle());
                            sppSelectedProjectOwner.setText(ee.getValue().getOwner().getName());
                            //selectedProjectPeopleInvolvedValue.setText(Integer.toString(ee.getValue().getContributors().size()));
                            sppSelectedProjectEndDateValue.setText(ee.getValue().getEndDate().toString());
                            sppSelectedProjectStartDateValue.setText( ee.getValue().getBeginDate().toString());
                            sppSelectedProjectStateValue.setText(ee.getValue().getProjectState().toString());
                            //selectedProjectTasksNumberValue.setText( Integer.toString(ee.getValue().getLists().size()));
                        }
                    }
                }
            }
        });
        mainMenuPanel.add(projectListComboBox);
        projectListComboBox.setBounds(110, 40, 220, 30);

        addProjectButton.setIcon(new javax.swing.ImageIcon("C:\\Users\\joaod\\Desktop\\PP\\Images\\Plus.png")); // NOI18N
        addProjectButton.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                addProjectButtonMouseClicked(evt);
            }
        });
        mainMenuPanel.add(addProjectButton);
        addProjectButton.setBounds(350, 40, 23, 30);

        removeProjectButton.setIcon(new javax.swing.ImageIcon("C:\\Users\\joaod\\Desktop\\PP\\Images\\Minus.png")); // NOI18N
        removeProjectButton.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                removeProjectButtonMouseClicked(evt);
            }
        });
        mainMenuPanel.add(removeProjectButton);
        removeProjectButton.setBounds(390, 40, 30, 30);

        editProfileButton.setIcon(new javax.swing.ImageIcon("C:\\Users\\joaod\\Desktop\\PP\\Images\\User.png")); // NOI18N
        editProfileButton.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                editProfileButtonMouseClicked(evt);
            }
        });
        mainMenuPanel.add(editProfileButton);
        editProfileButton.setBounds(1082, 30, 30, 40);

        editProfileLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        editProfileLabel.setText("Edit Profile");
        mainMenuPanel.add(editProfileLabel);
        editProfileLabel.setBounds(1070, 70, 60, 14);

        switchUserButton.setIcon(new javax.swing.ImageIcon("C:\\Users\\joaod\\Desktop\\PP\\Images\\SwitchUser.png")); // NOI18N
        switchUserButton.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                switchUserButtonMouseClicked(evt);
            }
        });
        mainMenuPanel.add(switchUserButton);
        switchUserButton.setBounds(1170, 30, 30, 40);

        switchUserLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        switchUserLabel.setText("Switch User");
        mainMenuPanel.add(switchUserLabel);
        switchUserLabel.setBounds(1150, 70, 70, 14);

        exitButton.setIcon(new javax.swing.ImageIcon("C:\\Users\\joaod\\Desktop\\PP\\Images\\Exit.png")); // NOI18N
        exitButton.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                exitButtonMouseClicked(evt);
            }
        });
        mainMenuPanel.add(exitButton);
        exitButton.setBounds(1250, 30, 40, 40);

        exitLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        exitLabel.setText("Exit");
        mainMenuPanel.add(exitLabel);
        exitLabel.setBounds(1250, 70, 30, 14);

        viewProjectButton.setIcon(new javax.swing.ImageIcon("C:\\Users\\joaod\\Desktop\\PP\\Images\\ViewProject.png")); // NOI18N
        viewProjectButton.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                viewProjectButtonMouseClicked(evt);
            }
        });
        mainMenuPanel.add(viewProjectButton);
        viewProjectButton.setBounds(550, 27, 246, 60);

        viewDashboardButton.setIcon(new javax.swing.ImageIcon("C:\\Users\\joaod\\Desktop\\PP\\Images\\ViewDashboard.png")); // NOI18N
        viewDashboardButton.setVisible(false);
        viewDashboardButton.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                viewDashboardButtonMouseClicked(evt);
            }
        });
        mainMenuPanel.add(viewDashboardButton);
        viewDashboardButton.setBounds(530, 27, 270, 60);

        jLabel1.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jLabel1.setText("Projects:");
        mainMenuPanel.add(jLabel1);
        jLabel1.setBounds(30, 40, 100, 30);

        getContentPane().add(mainMenuPanel);
        mainMenuPanel.setBounds(10, 6, 1320, 100);

        selectedProjectPanel.setOpaque(false);
        selectedProjectPanel.setLayout(null);

        sppSelectedProjectDescriptionLabel.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        sppSelectedProjectDescriptionLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        sppSelectedProjectDescriptionLabel.setText("Project Description");
        selectedProjectPanel.add(sppSelectedProjectDescriptionLabel);
        sppSelectedProjectDescriptionLabel.setBounds(510, 160, 210, 30);

        jScrollPane1.setOpaque(false);
        jScrollPane1.setBorder(null);

        sppSelectedProjectDescriptionValue.setColumns(20);
        sppSelectedProjectDescriptionValue.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        sppSelectedProjectDescriptionValue.setRows(5);
        sppSelectedProjectDescriptionValue.setText("codigo get description\n");
        sppSelectedProjectDescriptionValue.setBorder(null);
        sppSelectedProjectDescriptionValue.setFocusable(false);
        sppSelectedProjectDescriptionValue.setOpaque(false);
        jScrollPane1.setViewportView(sppSelectedProjectDescriptionValue);

        selectedProjectPanel.add(jScrollPane1);
        jScrollPane1.setBounds(450, 210, 330, 150);

        sppSelectedProjectEditProjectButtonLabel.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        sppSelectedProjectEditProjectButtonLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        sppSelectedProjectEditProjectButtonLabel.setText("Edit Project");
        selectedProjectPanel.add(sppSelectedProjectEditProjectButtonLabel);
        sppSelectedProjectEditProjectButtonLabel.setBounds(1210, 100, 80, 30);

        sppSelectedProjectEditProjectButton.setIcon(new javax.swing.ImageIcon(String.format("%s\\Images\\EditButton64px.png", System.getProperty("user.dir"))));
        sppSelectedProjectEditProjectButton.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                sppSelectedProjectEditProjectButtonMouseClicked(evt);
            }
        });
        selectedProjectPanel.add(sppSelectedProjectEditProjectButton);
        sppSelectedProjectEditProjectButton.setBounds(1220, 30, 70, 70);

        sppSelectedProjectStateValue.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        sppSelectedProjectStateValue.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        sppSelectedProjectStateValue.setText("code ---");
        selectedProjectPanel.add(sppSelectedProjectStateValue);
        sppSelectedProjectStateValue.setBounds(270, 200, 200, 40);

        sppSelectedProjectStartDateValue.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        sppSelectedProjectStartDateValue.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        sppSelectedProjectStartDateValue.setText("codigo");
        selectedProjectPanel.add(sppSelectedProjectStartDateValue);
        sppSelectedProjectStartDateValue.setBounds(270, 250, 200, 40);

        sppSelectedProjectStartDateLabel.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        sppSelectedProjectStartDateLabel.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        sppSelectedProjectStartDateLabel.setText("Project started on:");
        selectedProjectPanel.add(sppSelectedProjectStartDateLabel);
        sppSelectedProjectStartDateLabel.setBounds(0, 250, 250, 40);

        sppSelectedProjectEndDateValue.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        sppSelectedProjectEndDateValue.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        sppSelectedProjectEndDateValue.setText("codigo");
        selectedProjectPanel.add(sppSelectedProjectEndDateValue);
        sppSelectedProjectEndDateValue.setBounds(270, 300, 200, 40);

        sppSelectedProjectEndDateLabel.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        sppSelectedProjectEndDateLabel.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        sppSelectedProjectEndDateLabel.setText("Project should end by:");
        selectedProjectPanel.add(sppSelectedProjectEndDateLabel);
        sppSelectedProjectEndDateLabel.setBounds(0, 300, 250, 40);

        sppSelectedProjectStateLabel.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        sppSelectedProjectStateLabel.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        sppSelectedProjectStateLabel.setText("Project is currently:");
        selectedProjectPanel.add(sppSelectedProjectStateLabel);
        sppSelectedProjectStateLabel.setBounds(0, 200, 250, 40);

        sppSelectedProjectOwner.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        sppSelectedProjectOwner.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        sppSelectedProjectOwner.setText("codigo: settxt(\"owned by \" + owner)");
        selectedProjectPanel.add(sppSelectedProjectOwner);
        sppSelectedProjectOwner.setBounds(460, 90, 310, 40);

        sppSelectedProjectName.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        sppSelectedProjectName.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        sppSelectedProjectName.setText("codigo: txt getprojename");
        selectedProjectPanel.add(sppSelectedProjectName);
        sppSelectedProjectName.setBounds(310, 19, 610, 60);

        associatedUsersLabel.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        associatedUsersLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        associatedUsersLabel.setText("Associated Users");
        selectedProjectPanel.add(associatedUsersLabel);
        associatedUsersLabel.setBounds(990, 160, 150, 30);

        addUserToProject.setIcon(new javax.swing.ImageIcon("C:\\Users\\joaod\\Desktop\\PP\\Images\\AddUser.png")); // NOI18N
        addUserToProject.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                addUserToProjectMouseClicked(evt);
            }
        });
        selectedProjectPanel.add(addUserToProject);
        addUserToProject.setBounds(1230, 205, 40, 40);

        addUserToProjectLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        addUserToProjectLabel.setText("Add User");
        selectedProjectPanel.add(addUserToProjectLabel);
        addUserToProjectLabel.setBounds(1215, 250, 60, 14);

        removeUserToProject.setIcon(new javax.swing.ImageIcon("C:\\Users\\joaod\\Desktop\\PP\\Images\\RemoveUser.png")); // NOI18N
        removeUserToProject.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                removeUserToProjectMouseClicked(evt);
            }
        });
        selectedProjectPanel.add(removeUserToProject);
        removeUserToProject.setBounds(1230, 291, 40, 50);

        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel2.setText("Remove User");
        selectedProjectPanel.add(jLabel2);
        jLabel2.setBounds(1210, 340, 80, 14);

        associatedUsersList.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        associatedUsersList.setModel(new javax.swing.AbstractListModel<String>() {
            String[] strings = { "Item 1", "Item 2", "Item 3", "Item 4", "Item 5" };
            public int getSize() { return strings.length; }
            public String getElementAt(int i) { return strings[i]; }
        });
        jScrollPane2.setViewportView(associatedUsersList);

        selectedProjectPanel.add(jScrollPane2);
        jScrollPane2.setBounds(940, 200, 260, 160);
        selectedProjectPanel.add(jSeparator1);
        jSeparator1.setBounds(30, 390, 1260, 10);

        selectedProjectBackground.setIcon(new javax.swing.ImageIcon("C:\\Users\\joaod\\Desktop\\PP\\ProjectBackground.png")); // NOI18N
        selectedProjectPanel.add(selectedProjectBackground);
        selectedProjectBackground.setBounds(0, 0, 1320, 800);

        getContentPane().add(selectedProjectPanel);
        selectedProjectPanel.setBounds(10, 110, 1320, 800);

        homepageBackground.setIcon(new javax.swing.ImageIcon(String.format("%s\\Images\\DefaultBackground.png", System.getProperty("user.dir"))));
        getContentPane().add(homepageBackground);
        homepageBackground.setBounds(0, 0, 1350, 930);

        setSize(new java.awt.Dimension(1356, 962));
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void addProjectButtonMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_addProjectButtonMouseClicked
        NewProject newp = new NewProject(connectedUser);
        newp.setModal(true);
        newp.setVisible(true);
        updateHomepage();
    }//GEN-LAST:event_addProjectButtonMouseClicked

    private void removeProjectButtonMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_removeProjectButtonMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_removeProjectButtonMouseClicked

    private void sppSelectedProjectEditProjectButtonMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_sppSelectedProjectEditProjectButtonMouseClicked
        EditProject newep = new EditProject(this, rootPaneCheckingEnabled);
        newep.setVisible(true);
    }//GEN-LAST:event_sppSelectedProjectEditProjectButtonMouseClicked

    private void viewProjectButtonMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_viewProjectButtonMouseClicked
            this.selectedProjectPanel.setVisible(true);
            this.dashboardPanel.setVisible(false);
            this.viewDashboardButton.setVisible(true);
            this.viewProjectButton.setVisible(false);
    }//GEN-LAST:event_viewProjectButtonMouseClicked

    private void viewDashboardButtonMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_viewDashboardButtonMouseClicked
            this.dashboardPanel.setVisible(true);
            this.selectedProjectPanel.setVisible(false);
            this.viewProjectButton.setVisible(true);
            this.viewDashboardButton.setVisible(false);
    }//GEN-LAST:event_viewDashboardButtonMouseClicked

    private void editProfileButtonMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_editProfileButtonMouseClicked
        ManageUserAccount mua = new ManageUserAccount(connectedUser);
        mua.setVisible(true);
    }//GEN-LAST:event_editProfileButtonMouseClicked

    private void switchUserButtonMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_switchUserButtonMouseClicked
        LogInPage newlogin = new LogInPage();
        newlogin.setVisible(true);
        this.dispose();
    }//GEN-LAST:event_switchUserButtonMouseClicked

    private void exitButtonMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_exitButtonMouseClicked
        System.exit(-1);
    }//GEN-LAST:event_exitButtonMouseClicked

    private void addUserToProjectMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_addUserToProjectMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_addUserToProjectMouseClicked

    private void removeUserToProjectMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_removeUserToProjectMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_removeUserToProjectMouseClicked

    private void newProjectMenuItemActionPerformed(java.awt.event.ActionEvent evt) {
        NewProject newp = new NewProject(connectedUser);
        newp.setModal(true);
        newp.setVisible(true);
        updateHomepage();
    }

    public String inoaProjects1GetText(ArrayList<Task> tasks) {
        try {
            return (tasks.get(0).getTitle());
        } catch (IndexOutOfBoundsException e) {
            e.printStackTrace();
            return ("No projects in need of attention yet.");
        }
    }

    public String inoaProjects2GetText(ArrayList<Task> tasks) {
        try {
            return (tasks.get(1).getTitle());
        } catch (IndexOutOfBoundsException e) {
            e.printStackTrace();
            return ("None.");
        }
    }

    public String inoaProjects3GetText(ArrayList<Task> tasks) {
        try {
            return (tasks.get(2).getTitle());
        } catch (IndexOutOfBoundsException e) {
            e.printStackTrace();
            return ("None.");
        }
    }

    private void updateHomepage() {
        this.dispose();
        HiProject hiProject = new Serialization(String.format("%s\\HiProject.data", System.getProperty("user.dir"))).load();
        try {
            User updatedConnectedUser = hiProject.getUsers().getUser(connectedUser.getEmail());
            new Homepage(updatedConnectedUser).setVisible(true);
        } catch (UserDoesntExistException e) {
            e.printStackTrace();
        }
    }

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Homepage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Homepage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Homepage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Homepage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Homepage(connectedUser).setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel addProjectButton;
    private javax.swing.JLabel addUserToProject;
    private javax.swing.JLabel addUserToProjectLabel;
    private javax.swing.JLabel associatedUsersLabel;
    private javax.swing.JList<String> associatedUsersList;
    private javax.swing.JLabel biggestProjectLabel;
    private javax.swing.JLabel bpCompletedTasksLabel;
    private javax.swing.JLabel bpCompletedTasksValueLabel;
    private javax.swing.JLabel bpNameValueLabel;
    private javax.swing.JLabel bpPeopleInvolvedLabel;
    private javax.swing.JLabel bpPeopleInvolvedValueLabel;
    private javax.swing.JLabel completedProjectsLabel;
    private javax.swing.JLabel completedProjectsValueLabel;
    private javax.swing.JLabel dashboardBackground;
    private javax.swing.JPanel dashboardPanel;
    private javax.swing.JLabel editProfileButton;
    private javax.swing.JLabel editProfileLabel;
    private javax.swing.JLabel exitButton;
    private javax.swing.JLabel exitLabel;
    private javax.swing.JLabel homepageBackground;
    private javax.swing.JLabel inNeedOfAttentionLabel;
    private javax.swing.JLabel inoaProject1ValueLabel;
    private javax.swing.JLabel inoaProject2ValueLabel;
    private javax.swing.JLabel inoaProject3ValueLabel;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JLabel lateProjectsLabel;
    private javax.swing.JLabel lateProjectsValueLabel;
    private javax.swing.JPanel mainMenuPanel;
    private javax.swing.JLabel ongoingProjectsLabel;
    private javax.swing.JLabel ongoingProjectsValueLabel;
    private javax.swing.JComboBox<String> projectListComboBox;
    private javax.swing.JLabel removeProjectButton;
    private javax.swing.JLabel removeUserToProject;
    private javax.swing.JLabel selectedProjectBackground;
    private javax.swing.JPanel selectedProjectPanel;
    private javax.swing.JLabel sppSelectedProjectDescriptionLabel;
    private javax.swing.JTextArea sppSelectedProjectDescriptionValue;
    private javax.swing.JLabel sppSelectedProjectEditProjectButton;
    private javax.swing.JLabel sppSelectedProjectEditProjectButtonLabel;
    private javax.swing.JLabel sppSelectedProjectEndDateLabel;
    private javax.swing.JLabel sppSelectedProjectEndDateValue;
    private javax.swing.JLabel sppSelectedProjectName;
    private javax.swing.JLabel sppSelectedProjectOwner;
    private javax.swing.JLabel sppSelectedProjectStartDateLabel;
    private javax.swing.JLabel sppSelectedProjectStartDateValue;
    private javax.swing.JLabel sppSelectedProjectStateLabel;
    private javax.swing.JLabel sppSelectedProjectStateValue;
    private javax.swing.JLabel switchUserButton;
    private javax.swing.JLabel switchUserLabel;
    private javax.swing.JLabel viewDashboardButton;
    private javax.swing.JLabel viewProjectButton;
    // End of variables declaration//GEN-END:variables
}
